<!DOCTYPE html>
<html>
  <head>
    <title>Knockout | Football tournament</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/bootstrap-responsive.min.css">
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body>
    <div class="page-header">
      <header>
        <div class="container">
          <div class="row"><a href="#">
              <div class="span6">
                <div class="logo">
                  <h1>Knockout</h1>
                  <div class="hmeta">Football tournament   </div>
                </div>
              </div>
              <div class="form-horizontal span6">
                <div class="control-group">
                  <label for="admin" class="control-label">Admin</label>
                  <div class="controls">
                    <input type="checkbox" id="admin" data-bind="checked: admin">
                  </div>
                </div>
              </div></a></div>
        </div>
      </header>
    </div>
    <div class="container">       
      <ul class="nav nav-tabs row">
        <!-- ko foreach: categories -->
        <li><a data-toggle="tab" data-bind="html: name, attr: { href: '#'+ id() }"></a></li>
        <!-- /ko -->
        <!-- ko if: $root.admin-->
        <li><a href="#" data-bind="click: addCategory"> <i class="icon-plus"></i></a></li>
        <!-- /ko-->
      </ul>
      <div class="tabbable row">
        <div data-bind="foreach: { data: categories, as: 'category' }" class="tab-content">
          <div data-bind="attr: { id: id }" class="tab-pane">
            <!-- ko if: $root.admin-->
            <div data-bind="template: { name: 'categoryConfigurationTemplate', data: category }" class="row-fluid"></div>
            <!-- /ko-->
            <div data-bind="template: { name: 'fixtureTemplate', data: matches }" class="row-fluid"></div>
            <div data-bind="template: { name: 'leaderboardTemplate', data: teams }" class="row-fluid"></div>
          </div>
        </div>
      </div>
    </div>
    <hr><script type="text/html" id="categoryConfigurationTemplate"> 
    <div class="form-horizontal well">
      <div class="control-group">
        <label class="control-label">Naam</label>
        <div class="controls">
          <input type="text" data-bind="value: name, valueUpdate: 'afterkeydown'" class="input-xlarge">
        </div>
      </div>
      <div class="control-group">
        <label class="control-label">Date</label>
        <div class="controls">
          <input type="date" data-bind="value: date" class="input-xlarge">
        </div>
      </div>
      <div class="control-group">
        <label data-bind="attr: { for: id() + 'HomeAndAway' }" class="control-label">Home and away</label>
        <div class="controls">
          <input type="checkbox" data-bind="checked: homeAndAway, attr: { id: id() + 'HomeAndAway' }">
        </div>
      </div>
      <div class="control-group">
        <label class="control-label">Teams</label>
        <div data-bind="foreach: teams" class="controls teams">
          <div class="team">
            <input type="text" data-bind="value: name, valueUpdate: 'afterkeydown'" class="input-xlarge">
            <!-- ko if: $index() === 0--><a href="#" data-bind="click: category.addTeam"> <i class="icon-plus"></i></a>
            <!-- /ko-->
            <!-- ko if: $index() > 0--><a href="#" data-bind="if: $index != 0, click: category.removeTeam"> <i class="icon-trash"></i></a>
            <!-- /ko-->
          </div>
        </div>
      </div>
      <div class="form-actions">
        <button data-bind="click: generateFixture" class="btn">Generate fixture</button>
      </div>
    </div></script><script type="text/html" id="fixtureTemplate"> 
    <h2>Fixture
      <!-- ko if: $root.admin-->
      <button data-bind="click: category.update" class="btn"><i class="icon-refresh"></i></button>
      <!-- /ko-->
    </h2>
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th>Datum</th>
          <th>Uur</th>
          <th>Thuis</th>
          <th></th>
          <th></th>
          <th></th>
          <th>Uit</th>
        </tr>
      </thead>
      <tbody data-bind="foreach: $data">
        <tr>
          <td>
            <input type="date" data-bind="value: date" class="input-medium">
          </td>
          <td>
            <input type="time" data-bind="value: time" class="input-small">
          </td>
          <td data-bind="text: homeTeam().name()" class="fixtureTextItem"></td>
          <td>
            <input type="number" data-bind="value: homeScore()" class="input-verysmall">
          </td>
          <td class="fixtureTextItem">-</td>
          <td>
            <input type="number" data-bind="value: awayScore()" class="input-verysmall">
          </td>
          <td data-bind="text: awayTeam().name()" class="fixtureTextItem"></td>
        </tr>
      </tbody>
    </table></script><script type="text/html" id="leaderboardTemplate"> 
    <h2>Leaderboard</h2>
    <table class="table table-striped table-hover table-bordered">
      <thead>
        <tr>
          <th>#</th>
          <th>Team</th>
          <th>M</th>
          <th>M+</th>
          <th>M-</th>
          <th>M=</th>
          <th>D+</th>
          <th>D-</th>
          <th>D+/-</th>
          <th>Ptn</th>
        </tr>
      </thead>
      <tbody data-bind="foreach: $data">
        <tr>
          <td data-bind="text: $index() + 1"></td>
          <td data-bind="text: name"></td>
          <td data-bind="text: played"></td>
          <td data-bind="text: won"></td>
          <td data-bind="text: lost"></td>
          <td data-bind="text: draws"></td>
          <td data-bind="text: goalsFor"></td>
          <td data-bind="text: goalsAgainst"></td>
          <td data-bind="text: goalsDifference"></td>
          <td data-bind="text: points"></td>
        </tr>
      </tbody>
    </table></script>
    <script src="js/app.js"></script>
  </body>
</html>